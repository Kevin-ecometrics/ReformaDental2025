---
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const currentUrl = Astro.url.pathname;

const URL = Astro.url.pathname;
const getNavLink = (anchor: string) => {
  const basePath = lang === "es" ? "/es/" : "/";
  return currentUrl === basePath ? `#${anchor}` : `${basePath}#${anchor}`;
};
---

<section id="Home" class="bg-gray-100 xl:h-screen">
  <div class="container mx-auto text-center">
    {
      URL === "/" ? (
        <img
          src="/images/animacion.gif"
          alt={t("home.videoAlt")}
          class="w-2/3 h-auto mx-auto"
        />
      ) : (
        <img
          src="/images/animacion2.gif"
          alt={t("home.videoAlt")}
          class="md:w-2/3 h-auto mx-auto aspect-video"
        />
      )
    }

    <h1 class="mb-4 text-4xl font-bold text-gray-500">
      {t("home.title")}
    </h1>
    <h2 class="mb-8 text-3xl text-gray-500">
      {t("home.subtitle")}
    </h2>

    <div class="flex flex-col items-center gap-4 xl:mb-0 mb-8">
      <a href={getNavLink("Booking")}>
        <button
          class="bg-[#87D717] hover:bg-[#95F50E] text-1xl text-white font-bold py-3 px-20 cursor-pointer rounded-full"
        >
          {t("home.ctaButton")}
        </button>
      </a>
    </div>
  </div>
</section>

---
import Layout from "@layouts/Layout.astro";
import Footer from "@components/Footer.astro";
import { getLangFromUrl, useTranslations } from "@i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export function getStaticPaths() {
  return [
    { params: { tratamiento: "corona" } },
    { params: { tratamiento: "dentadura" } },
    { params: { tratamiento: "endodoncia" } },
    { params: { tratamiento: "extracion" } },
    { params: { tratamiento: "tratamiento" } },
    { params: { tratamiento: "recina" } },
    { params: { tratamiento: "implantes" } },
    { params: { tratamiento: "ortodoncia" } },
    { params: { tratamiento: "periodoncia" } },
  ];
}
const { tratamiento } = Astro.params;

const tratamientos = {
  corona: {
    nombre: t("tratamientos.Corona"),
    precio: t("treatments.price.coronas"),
    imagen: "/images/corona.webp",
    descripcion: t("tratamientos.coronadescLarge"),
  },
  dentadura: {
    nombre: t("tratamientos.Dentadura"),
    precio: t("treatments.price.dentadura"),
    imagen: "/images/dentadura.webp",
    descripcion: t("tratamientos.dentaduradescLarge"),
  },
  endodoncia: {
    nombre: t("tratamientos.Endodoncia"),
    precio: t("treatments.price.endodoncia"),
    imagen: "/images/endodoncia.webp",
    descripcion: t("tratamientos.endodonciadescLarge"),
  },
  extracion: {
    nombre: t("tratamientos.Extraccion"),
    precio: t("treatments.price.extraccion"),
    imagen: "/images/extracion.webp",
    descripcion: t("tratamientos.extracciondescLarge"),
  },
  implantes: {
    nombre: t("tratamientos.Implante"),
    precio: t("treatments.price.implantes"),
    imagen: "/images/implantes.webp",
    descripcion: t("tratamientos.implantedescLarge"),
  },
  tratamiento: {
    nombre: t("tratamientos.Tratamiento"),
    precio: t("treatments.price.tratamientos"),
    imagen: "/images/tratamiento.webp",
    descripcion: t("tratamientos.tratamientodescLarge"),
  },
  recina: {
    nombre: t("tratamientos.Recina"),
    precio: t("treatments.price.resinas"),
    imagen: "/images/recina.webp",
    descripcion: t("tratamientos.recinadescLarge"),
  },
  ortodoncia: {
    nombre: t("tratamientos.Ortodoncia"),
    precio: t("treatments.price.ortodoncia"),
    imagen: "/images/ortodoncia.webp",
    descripcion: t("tratamientos.ortodonciadescLarge"),
  },
  periodoncia: {
    nombre: t("tratamientos.Periodoncia"),
    precio: t("treatments.price.periodoncia"),
    imagen: "/images/perio.webp",
    descripcion: t("tratamientos.periodonciadescLarge"),
  },
};
const tratamientoData = tratamientos[tratamiento];
---

<Layout
  title={`Tratamiento de ${tratamiento}`}
  description="Descripcion del Tratamiento"
>
  <main class="container mx-auto px-4 py-8">
    <div
      class="max-w-3xl mx-auto bg-white rounded-xl shadow-md overflow-hidden"
    >
      <div class="p-8">
        <div class="flex flex-col md:flex-row gap-8">
          <div class="md:w-1/3">
            <img
              transition:name={tratamientoData.nombre}
              src={tratamientoData.imagen}
              alt={tratamientoData.nombre}
              width="300"
              height="300"
              class="w-full h-auto object-cover"
            />
          </div>
          <div class="md:w-2/3">
            <h1 class="text-3xl font-bold text-green-600 mb-4">
              {tratamientoData.nombre}
            </h1>
            <p class="text-xl font-semibold mb-6">
              Precio: <span class="text-green-500"
                >{tratamientoData.precio}</span
              >
            </p>
            <p class="text-gray-700 mb-6">
              {tratamientoData.descripcion}
            </p>
            <a
              href="/contacto"
              class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300 inline-block"
            >
              {t("tratamientos.cita")}
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>
  <Footer />
</Layout>
